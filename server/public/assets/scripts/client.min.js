console.log("hi thar");var myApp=angular.module("myApp",["ngRoute","smart-table","ui.bootstrap.modal","ui.bootstrap","ui.bootstrap.tpls"]);myApp.config(["$routeProvider",function(a){a.when("/students",{templateUrl:"/views/routes/students.html",controller:"StudentController"}).when("/events",{templateUrl:"/views/routes/events.html",controller:"EventController"}).otherwise({redirectTo:"events"})}]);var eventID;myApp.controller("EventController",["$scope","EventFactory","$uibModal",function(a,b,c){console.log("Event Controller Fired, yo"),a.retrievedEvents=[],a.open=function(){var b=c.open({animation:!0,templateUrl:"./views/templates/createEventModal.html",controller:"EventModalInstance",size:"lg"});b.result.then(function(b){a.selected=b})},a.init=function(){console.log("Init Fire!"),b.getData().then(function(){a.retrievedEvents=b.data,console.log(a.retrievedEvents)})},a.openEventDelete=function(a){eventID=a;c.open({animation:!0,templateUrl:"./views/templates/deleteEventRecord.html",controller:"EventModalInstance",size:"sm"})},a.init()}]),myApp.controller("EventModalInstance",["$scope","$uibModalInstance","EventFactory",function(a,b,c){a.eventObject={},a.submitEvent=function(b){a.eventObject=b,c.postData(a.eventObject),a.cancel()},a.removeEvent=function(b){console.log(eventID),c.deleteData(eventID),a.cancel()},a.cancel=function(){b.dismiss("cancel")}}]),myApp.controller("StudentController",["$scope","StudentFactory",function(a,b){a.retrievedStudents=[],a.init=function(){b.getData().then(function(){a.retrievedStudents=b.data})},a.init()}]);var studentID;myApp.controller("StudentModalController",["$scope","$uibModal",function(a,b){a.open=function(){var c=b.open({animation:!0,templateUrl:"./views/templates/createStudentModal.html",controller:"StudentModalInstance",size:"lg"});c.result.then(function(b){a.selected=b})},a.openDelete=function(a){studentID=a;b.open({animation:!0,templateUrl:"./views/templates/deleteStudentRecord.html",controller:"StudentModalInstance",size:"sm"})}}]),myApp.controller("StudentModalInstance",["$scope","$uibModalInstance","StudentFactory",function(a,b,c){a.studentObject={},a.studentObject.unavailability=[{}],a.retrievedStudents=[],a.storedID,a.submit=function(b){var d=angular.copy(b);c.postData(d).then(function(){a.init(),a.cancel()})},a.addTimeOffElement=function(){var b={};a.studentObject.unavailability.push(b)},a.init=function(){c.getData().then(function(){return a.retrievedStudents=c.data})},a.removeStudent=function(b){c.deleteData(studentID),a.init(),a.cancel()},a.storeId=function(b){a.storedID=b,console.log(a.storedID)},a.cancel=function(){b.dismiss("cancel")},a.init()}]),myApp.factory("EventFactory",["$http",function(a){var b={},c={},d=function(b){a.post("/events",b).success(function(a){})},e=function(){return a.get("/events").then(function(a){b.results=a.data,console.log(b.results)})},f=function(b){c.eventId=b,a.put("/events",c).then(function(a){console.log("Attempting to Delete Event")})};return{data:b,getData:e,postData:d,deleteData:f}}]),myApp.factory("StudentFactory",["$http",function(a){var b={},c={},d=function(b){return b.unavailability=angular.toJson(b.unavailability),a.post("/students",b).success(function(a){})},e=function(){return a.get("/students").then(function(a){b.results=a.data,console.log(b.results)})},f=function(b){c.studentId=b,a.put("/students",c).then(function(a){})};return{data:b,getData:e,postData:d,deleteData:f}}]);